(this["webpackJsonplibrary-client-app"]=this["webpackJsonplibrary-client-app"]||[]).push([[0],{26:function(t,e,n){},27:function(t,e,n){},28:function(t,e,n){},29:function(t,e,n){},30:function(t,e,n){},36:function(t,e,n){"use strict";n.r(e);var a=n(0),s=n(1),c=n.n(s),o=n(19),r=n.n(o),i=(n(26),n(4)),l=n(5),b=n(7),h=n(6),j=(n(27),n(11)),u=n(2),d=(n(28),function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={value:""},t.updateValue=function(e){t.setState({value:e.target.value})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this,e=this.props,n=e.menuMethod,s=e.search;return Object(a.jsx)("nav",{className:"navbar navbar-expand-md navbar-light bg-white",children:Object(a.jsxs)("div",{className:"container-fluid ",children:[Object(a.jsx)("a",{className:"navbar-brand flex-grow-1",children:"Library"}),Object(a.jsx)("button",{onClick:n,className:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"})}),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"collapse navbar-collapse wrapper",id:"navbarSupportedContent",children:[Object(a.jsx)("form",{children:Object(a.jsxs)("div",{className:"input-group",children:[Object(a.jsx)("input",{value:this.state.value,onChange:this.updateValue,type:"text",className:"form-control",placeholder:"search"}),Object(a.jsx)("button",{onClick:function(){return s(t.state.value)},className:"btn btn-outline-secondary",type:"button",id:"button-addon2",children:"Search"})]})}),Object(a.jsx)("ul",{className:"navbar-nav me-auto mb-2 mb-md-0 nav-bar-login",children:Object(a.jsx)("li",{className:"nav-item d-flex justify-content-end",children:Object(a.jsx)("a",{className:"nav-link active","aria-current":"page",href:"#",children:"Login"})})})]})})]})})}}]),n}(s.Component)),m=(n(29),function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.nameSort,n=t.ratingSort,s=t.dateSort,c=t.topBooks,o=t.discover;return Object(a.jsxs)("nav",{className:"left-bar px-3 pt-5",id:"sidebar",children:[Object(a.jsx)("h3",{className:"side-bar-h3 fw-normal",children:"Sort"}),Object(a.jsxs)("ul",{className:"list-unstyled ms-4 fw-light fs-5",children:[Object(a.jsx)("li",{onClick:e,children:"Name"}),Object(a.jsx)("li",{onClick:n,children:"Rating"}),Object(a.jsx)("li",{onClick:s,children:"Date"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h3",{className:"side-bar-h3",children:"Browse"}),Object(a.jsxs)("ul",{className:"list-unstyled ms-4 fw-light fs-5",children:[Object(a.jsx)("li",{onClick:c,children:"Top books"}),Object(a.jsx)("li",{onClick:o,children:"Discover"})]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h3",{className:"side-bar-h3",children:"Your books"}),Object(a.jsxs)("ul",{className:"list-unstyled ms-4 fw-light fs-5",children:[Object(a.jsx)("li",{children:"Reading"}),Object(a.jsx)("li",{children:"History"})]})]})}}]),n}(s.Component)),p=(n(30),function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props.book,e=t.id,n=t.title,s=t.authors,c=t.rating;return Object(a.jsxs)("div",{className:"book shadow mx-3 mb-3 bg-white d-flex",children:[Object(a.jsxs)("div",{className:"list-item-content flex-grow-1",children:[Object(a.jsx)("h3",{className:"truncate-overflow",children:n}),Object(a.jsx)("h5",{className:"fw-light authors",children:s}),Object(a.jsxs)("h6",{className:"fw-light ",children:["Rating: ",c]})]}),Object(a.jsxs)("div",{className:"ps-auto button-section d-flex ",children:[Object(a.jsx)(j.b,{to:{pathname:"/book/".concat(e),query:{id:e}},children:Object(a.jsx)("button",{className:"book-button btn-details",children:"Details"})}),Object(a.jsx)(j.b,{to:{pathname:"/alert"},children:Object(a.jsx)("button",{className:"book-button btn-green ",children:"Borrow"})})]})]})}}]),n}(s.Component)),f=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={book:[]},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.props,e=t.books;return t.isFetching?Object(a.jsx)("div",{children:Object(a.jsx)("h4",{className:"text-center mt-5",children:"Please wait..."})}):Object(a.jsx)("section",{className:"pt-5 d-flex flex-wrap justify-content-center",children:e.map((function(t,e){return Object(a.jsx)(p,{book:t},e)}))})}}]),n}(s.Component),O="https://java-library-api.herokuapp.com/",x=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={bookId:0,copies:0,isFetching:!0,bookDetails:null},t.fetchOpinion=function(e){fetch(O+"api/library/books/id/".concat(e)).then((function(t){return t.json()})).then((function(n){t.setState({bookDetails:n,bookId:e,isFetching:!1})}))},t.fetchCopiesNumber=function(e){fetch(O+"api/library/books/copies/".concat(e)).then((function(t){return t.json()})).then((function(e){t.setState({copies:e})}))},t.getPopularity=function(){var e=t.state.bookDetails.popularity;return e>90?"Very popular":e>50?"Popular":e>10?"Less popular":"Not many people read this book"},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var t=this.props.location.pathname;if(t=t.substr(6,t.length-1),null!=this.props.books&&null!=t){var e=this.props.books.find((function(e){return e.id===t}));if(null!=e)return console.log(e),void this.setState({bookDetails:e,bookId:t,isFetching:!1})}this.setState({bookId:t}),this.fetchOpinion(t),this.fetchCopiesNumber(t)}},{key:"render",value:function(){return this.state.isFetching?Object(a.jsx)("div",{children:"Loading..."}):Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"card mx-5 mt-5 shadow",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("h5",{className:"card-title",children:this.state.bookDetails.title}),Object(a.jsx)("h6",{className:"card-subtitle mb-2 text-muted",children:this.state.bookDetails.authors}),Object(a.jsxs)("h6",{className:"card-subtitle mb-2 mt-3",children:["Raiting: ",Object(a.jsxs)("span",{className:"fw-normal mx-1",children:[" ",this.state.bookDetails.rating," "]})]}),Object(a.jsxs)("h6",{className:"card-subtitle mb-2",children:["Pages: ",Object(a.jsxs)("span",{className:"fw-normal mx-1",children:[" ",this.state.bookDetails.pages]})]}),Object(a.jsxs)("h6",{className:"card-subtitle mb-2",children:["Year: ",Object(a.jsxs)("span",{className:"fw-normal mx-1",children:[" ",this.state.bookDetails.year]})]}),Object(a.jsxs)("h6",{className:"card-subtitle mb-2",children:["Publisher: ",Object(a.jsxs)("span",{className:"fw-normal mx-1",children:[" ",this.state.bookDetails.publisher]})]}),Object(a.jsxs)("h6",{className:"card-subtitle mb-2",children:["Available copies: ",Object(a.jsxs)("span",{className:"fw-normal mx-1",children:[" ",this.state.copies]})]}),Object(a.jsxs)("h6",{className:"mb-2",children:[" ",this.getPopularity()]}),Object(a.jsx)(j.c,{to:"/",children:Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary my-2 ",children:" Back "})}),Object(a.jsx)(j.c,{to:"/alert",children:Object(a.jsx)("button",{type:"button",className:"btn btn-outline-success mx-3",children:"Borrow"})})]})})})}}]),n}(s.Component),v=Object(u.f)(x),k=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={},t}return Object(l.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("div",{className:"alert alert-warning mx-3 mt-3",role:"alert",children:[Object(a.jsx)("h4",{className:"alert-heading",children:"No permission"}),Object(a.jsx)("p",{children:"In order to do this action you have to be logged in. However, this website doesn't implement all API methods yet. Login is still not available."}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"mb-0",children:"Please go back to home page."}),Object(a.jsx)(j.c,{to:"/",children:Object(a.jsx)("button",{type:"button",className:"btn btn-outline-secondary my-2 ",children:" Back to home page"})})]})}}]),n}(s.Component),g="https://java-library-api.herokuapp.com/",y=function(t){Object(b.a)(n,t);var e=Object(h.a)(n);function n(){var t;Object(i.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(t=e.call.apply(e,[this].concat(s))).state={menu:!1,book:[],isFetching:!0},t.fetchProducts=function(){fetch(g+"api/library/books/10/10").then((function(t){return t.json()})).then((function(e){t.setState({book:e,isFetching:!1})}))},t.sortBooksByName=function(){var e=t.state.book.sort((function(t,e){return t.title.localeCompare(e.title)}));t.setState({books:e})},t.sortBooksByRating=function(){var e=t.state.book.sort((function(t,e){return e.rating>t.rating?1:-1}));t.setState({books:e})},t.sortBooksByDate=function(){var e=t.state.book.sort((function(t,e){return e.year.localeCompare(t.year)}));t.setState({books:e})},t.getTopBooks=function(){fetch(g+"api/library/books/popular/10").then((function(t){return t.json()})).then((function(e){t.setState({book:e})}))},t.dicoverBooks=function(){fetch(g+"api/library/books/discover").then((function(t){return t.json()})).then((function(e){t.setState({book:e})}))},t.searchByName=function(e){fetch(g+"api/library/books/search/title/".concat(e)).then((function(t){return t.json()})).then((function(e){t.setState({book:e})}))},t.windowSize=function(){return window.innerWidth<750},t.showMenu=function(){!1===t.state.menu?(document.getElementById("sidebar").style.display="block",t.setState({menu:!0})):(document.getElementById("sidebar").style.display="none",t.setState({menu:!1}))},t}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.fetchProducts()}},{key:"render",value:function(){var t=this;return Object(a.jsx)(j.a,{children:Object(a.jsxs)("div",{className:"grid-container",children:[Object(a.jsxs)("div",{className:"nav-bar-grid",children:[" ",Object(a.jsx)(d,{className:"topbar",menuMethod:this.showMenu,search:this.searchByName})]}),Object(a.jsx)("div",{className:"side-bar-grid",children:Object(a.jsx)(m,{nameSort:this.sortBooksByName,ratingSort:this.sortBooksByRating,dateSort:this.sortBooksByDate,topBooks:this.getTopBooks,discover:this.dicoverBooks})}),Object(a.jsx)("div",{className:"main-grid",children:Object(a.jsxs)(u.c,{children:[Object(a.jsx)(u.a,{path:"/",exact:!0,render:function(){return Object(a.jsx)(f,{books:t.state.book,isFetching:t.state.isFetching})}}),Object(a.jsx)(u.a,{path:"/book/:id",render:function(){return Object(a.jsx)(v,{books:t.state.book})}}),Object(a.jsx)(u.a,{path:"/alert",render:function(){return Object(a.jsx)(k,{})}})]})}),Object(a.jsx)("div",{className:"footer-grid"})]})})}}]),n}(s.Component),N=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(e){var n=e.getCLS,a=e.getFID,s=e.getFCP,c=e.getLCP,o=e.getTTFB;n(t),a(t),s(t),c(t),o(t)}))};r.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(y,{})}),document.getElementById("root")),N()}},[[36,1,2]]]);
//# sourceMappingURL=main.9c0e03b1.chunk.js.map